/ {
    combos {
        compatible = "zmk,combos";

        // 4行5列のキー位置マップ:
        // 0  1  2  3  4    5  6  7  8  9
        // 10 11 12 13 14   15 16 17 18 19
        // 20 21 22 23 24   25 26 27 28 29
        // 30 31 32 33 34   35 36 37 38 39

        combo_ques {
            timeout-ms = <35>;
            key-positions = <7 6>;
            bindings = <&ques_excl>;
        };

        aa {
            timeout-ms = <35>;
            bindings = <&kp LEFT_BRACKET>;
            key-positions = <27 28>;
        };

        ae {
            timeout-ms = <35>;
            bindings = <&kp APOS>;
            key-positions = <3 2>;
        };

        oe {
            timeout-ms = <35>;
            bindings = <&kp SEMI>;
            key-positions = <18 17>;
        };

        combo_paras {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&paras>;
            key-positions = <28 29>;
        };

        combo_squares {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&squares>;
            key-positions = <8 9>;
        };

        combo-curles {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&curles>;
            key-positions = <2 1>;
            layers = <0>;
        };

        combo-curles_win {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&curles_win>;
            key-positions = <2 1>;
            layers = <1>;
        };

        combo_at {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&kp NB_AT>;
            key-positions = <2 7>;
            layers = <0>;
        };

        win_at {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&kp WNB_AT_SIGN>;
            key-positions = <2 7>;
            layers = <1>;
        };

        caps_word_combo {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&caps_word>;
            key-positions = <11 18>;
        };

        // サムキーのコンボ
        thumb_esc {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&kp ESCAPE>;
            key-positions = <32 33>;
        };

        thumb_r {
            timeout-ms = <50>;
            bindings = <&sk LA(LC(LEFT_SHIFT))>; // MEH
            key-positions = <37 38>;
        };

        boot_loader {
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
            bindings = <&bootloader>;
            key-positions = <29 19>;
        };

        bootloader_left {
            bindings = <&bootloader>;
            key-positions = <20 10>;
            timeout-ms = <35>;
            require-prior-idle-ms = <150>;
        };

        reset_left {
            bindings = <&sys_reset>;
            key-positions = <0 10>;
        };

        right_reset {
            bindings = <&sys_reset>;
            key-positions = <9 19>;
        };
    };
};
