# ===== 基本機能 =====
CONFIG_SPI=y
CONFIG_INPUT=y
CONFIG_PMW3610=y
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y
CONFIG_ZMK_EXT_POWER=y
CONFIG_NFCT_PINS_AS_GPIOS=y
CONFIG_ZMK_SLEEP=y

# ===== PMW3610（右手）=====
# 軸方向
CONFIG_PMW3610_INVERT_Y=y
CONFIG_PMW3610_SWAP_XY=n
CONFIG_PMW3610_INVERT_X=n

# レポート間隔（応答性）
CONFIG_PMW3610_REPORT_INTERVAL_MIN=3

# 省電力（サンプル間隔）
CONFIG_PMW3610_RUN_DOWNSHIFT_TIME_MS=2000
CONFIG_PMW3610_REST1_SAMPLE_TIME_MS=15
CONFIG_PMW3610_REST3_SAMPLE_TIME_MS=250

# ===== BLE（再接続高速化）=====
# Peripheral側の希望接続パラメータ（7.5〜15ms / 0遅延）
CONFIG_BT_GAP_AUTO_UPDATE_CONN_PARAMS=y
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6     # 6 * 1.25ms = 7.5ms
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12    # 12 * 1.25ms = 15ms
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# 拡張広告（使えるボード/SDKなら有効）
CONFIG_BT_EXT_ADV=y

# 復帰直後だけ高速広告（ビルド不可なら下3行は削除）
CONFIG_ZMK_BLE_ADV_FAST_TIMEOUT=8
CONFIG_ZMK_BLE_ADV_INTERVAL_FAST_MIN=32   # 20ms
CONFIG_ZMK_BLE_ADV_INTERVAL_FAST_MAX=48   # 30ms

# スリープ猶予（頻繁に寝て広告停止→再開で遅くなるのを回避）
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=60000
# 深いスリープを使うなら必要に応じて延長
# CONFIG_ZMK_DEEP_SLEEP_IDLE_TIMEOUT=300000

# ===== デバッグ・拡張（必要なら）=====
# CONFIG_SPI_LOG_LEVEL_DBG=y

# ===== 参考：これらの #define は .conf では無効です =====
# ZMK_POINTING_* のデフォルト値調整は devicetree(.overlay) 側で行ってください
# #define ZMK_POINTING_DEFAULT_MOVE_VAL 1500
# #define ZMK_POINTING_DEFAULT_SCRL_VAL 20
